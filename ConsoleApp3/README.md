# Лабораторная работа №3

## Структура
Программа состоит из 3 файлов:
1. `Program.cs` - содержит главный метод Main, где организован вызов всех классов и методов с дружественным интерфейсом
2. `Matrix.cs` - содержит класс, решающий задания №1.8 - №3.8
3. `Files.cs` - содержит класс, решающий задания №4.8 - №8.8

# Алгоритм работы

## Задание №1.8. Заполнение двумерных массивов

Описание:  
Первый массив, размерностью n х m, заполняется данными, вводимыми с клавиатуры, так что
заполнение ведется по столбцам от первых элементов столбца к последним. Второй массив, 
размерностью n х n, заполняется трехзначными случайными числами, составленными из возрастающих цифр.
Третий массив, размерностью n  х n, заполняется для произвольного n так же, как для n=5:  
1 2 1 4 1  
1 2 3 2 4  
3 2 3 3 1  
1 4 2 2 2  
5 1 3 1 1  

Алгоритм:

1. Класс Matrix содержит полe для двумерного массива
2. Реализовано 3 конструктора:
   - конструктор с параметрами n и m для создания массива n x m. Значения элементов массива запрашиваются у пользователя через консоль и записываются в массив
   - конструктор с параметром n для создания массива n x n. Ячейки массива заполняются числами, возвращенными из метода ThreeDigitNumberIncreasing(rand)
   - конструктор с параметром n и task (для отличия от других конструкторов) для создания массива n x n. В зависимости от четности номера диагонали, на которой находятся элементы массива, ячейки заполняются сверху вниз/снизу ввех значениями от 1 до n
3. Реализован вспомогательный метод ThreeDigitNumberIncreasing(Random rand), который в цикле генерирует рандомное число и проверяет возрастание цифр в нем. Если условие выполняется, то число возвращается

## Задание №2.8 Работа с двумерными массивами

Описание:  
Задан одномерный массив, состоящий из n целых чисел. Сформируйте на его основе двумерный 
массив n х n, так, чтобы сумма элементов в первом столбце была бы равна первому элементу 
одномерного массива, сумма элементов второго столбца была бы равна второму элементу 
одномерного массива и т.д. Нули использовать запрещается.

Алгоритм:

1. Класс Matrix содержит полe для двумерного массива
2. Реализован конструктор c параметром int[] arr - одномерный массив длиной n. Создается двумерный массив n x n, все строки которого, кроме последней, заполняются единицами. Значение элементов последней строки вычисляются таким образом: число в одномерном массиве на соответствующей позиции - (n - 1). Если значение равно нулю, то элементу на строку выше присваивается значение 2, а текущему элементу - 1. Иначе просто присваивается значения ячейке в последней строке

## Задание №3.8 Работа с двумерными массивами как с матрицами  

Описание:  
А-(3*В-С^т) 

Алгоритм:

1. Класс Matrix содержит полe для двумерного массива
2. Реализована перегрузка операторов (где a, b - матрицы, num  - целое число):
   - вычитание (a - b): проверяется совпадение размерной матриц. Если совпадения нет, то возвращается исключение. Иначе создается новая матрица, каждой ячейке которой присваивается значение разности соответствующих элементов матриц a и b.
   - умножение (num * a): создается новая матрица, каждой ячейке которой присваивается значение произведения соответствущего элемента матрицы a и числа num
3. Реализован метод для транспонирования матрицы a, который создает новую матрицы и присваивает ее ячейкам [j,i] значения в ячейках [i,j] матрицы a
4. Переопределен метод ToString(), который выводит матрицу строкой в табличном виде

## Задание №4.8 Бинарные файлы

Описание:  
Сформировать новый файл на основе исходного по следующему правилу: сначала туда 
записывается первый элемент исходного файла, затем — первый и второй, затем — первый, 
второй, третий, и т.д., на последнем шаге — все элементы исходного файла. 

Алгоритм:

В классе Files реализованы статические методы:
   - Для создания исходного бинарного файла с передаваемым количеством чисел count: рандомные числа в количестве count записываются в создаваемый файл. В случае, если файл не может быть создан, выводится ошибка
   - Для записи чисел из исходного файла в новый: сначала считается количество чисел в исходном файле, создается массив соответствующей длины, затем числа из исходного файла записываются в этот массив. Затем в цикле проходится по всем числам в массиве и записывает все числа в новый файл, начиная с первого и заканчивая текущим в цикле. В случае, если файлы не могут быть созданы или открыты, выводится ошибка

## Задание №5.8 Бинарные файлы и структуры

Описание:  
Файл содержит сведения об игрушках: название игрушки, ее стоимость в рублях и возрастные 
границы (например, игрушка может предназначаться для детей от двух до пяти лет). Получить 
названия игрушек, которые подходят детям как четырех лет, так и десяти лет. 

Алгоритм (см. Задание №1.3):

1. Реализована структура Toy с полями для названия игрушки, ее цены, и возрастного диапазона
2. В классе Files реализованы статические методы:
   - Для создания исходного бинарного файла: создается массив объектов Toy и с помощью сериализации записываются в файл
   - Для получения названий игрушек с соответствующим возрастным диапазоном: с помощью десериализации получается массив объектов Toy, в цикле проходится по всем его элементам и считает количество игрушек n с соответствующим возрастным диапазоном. Создается массив длиной n и его ячейки заполняются названиями соответствующих игрушек. Названия из массива выводятся пользователю

## Задание №6.8 Текстовые файлы

Описание:  
Найти сумму тех элементов файла, которые равны своему индексу (индексацию элементов 
файла в этой задаче начинать с нуля). 

Алгоритм:

В классе Files реализованы статические методы:
   - Для создания исходного текстового файла с передаваемым количеством чисел count: рандомные числа в количестве count записываются в создаваемый файл по одному на строку. В случае, если файл не может быть создан, выводится ошибка
   - Для поиска минимального и максимального числа и вывода их произведения: проходится по всем числам в исходном файле и перезаписывает значения переменнных minNum и maxNum в зависимости от значения числа. Выводятся значения minNum, maxNum и их произведение. В случае, если файл не может быть открыт, выводится ошибка

## Задание №7.8 Решить задачу с использованием структуры «текстовый файл»

Описание:  
Вычислить количество нечётных элементов.  

Алгоритм:

В классе Files реализованы статические методы:
   - Для создания исходного текстового файла с передаваемым количеством чисел count: рандомные числа в количестве count записываются в создаваемый файл через пробел. В случае, если файл не может быть создан, выводится ошибка
   - Для подсчета нечетных чисел в исходном файле: считывается строка с числами из исходного файла и преобразуется в массив. В цикле проверяет нечетность числа и в зависимости от этого увеличивается их счетчик. Результат и данные из исходного файла выводится пользователю. В случае, если файл не может быть открыт, выводится ошибка

## Задание №8.8 Текстовый файл

Описание:  
Создать новый текстовый файл, каждая строка которого содержит длину строки исходного 
файла. 

Алгоритм:

В классе Files реализован метод для создания нового файла с записанными длинами строк из исходного файла: проходится по всем строкам в исходном файле, выводит их в консоль для удобства пользователя и записывает их длины в новый файл с новой строки. В случае, если файл не может быть создан, выводится ошибка 

# Тестирование
## Тесты для Задания 1.3
<img width="485" height="194" alt="image" src="https://github.com/user-attachments/assets/545f0834-8b54-4be9-b6b4-fa9b602a6386" />\
<img width="493" height="116" alt="image" src="https://github.com/user-attachments/assets/98975f5b-623a-4ffc-83f0-58d832c0567c" />  

## Тесты для Задания 1.5
<img width="319" height="132" alt="image" src="https://github.com/user-attachments/assets/29ed9e69-c589-4f1d-a22f-2d926bca4b47" />  \
<img width="316" height="52" alt="image" src="https://github.com/user-attachments/assets/185728f2-4250-4325-ba5b-e83ca100748c" />  \
<img width="319" height="146" alt="image" src="https://github.com/user-attachments/assets/201644fd-0dee-47e6-98ae-c72bea2709da" />  
  
## Тесты для Задания 2.4
Код:
```
Department itDepartment = new Department("IT");
Employee employee1 = new Employee("Петров", itDepartment);
Employee employee2 = new Employee("Козлов", itDepartment);
Employee employee3 = new Employee("Сидоров", itDepartment);
itDepartment.Manager = employee2;

Console.WriteLine(employee1);
Console.WriteLine(employee2);
Console.WriteLine(employee3);
```
Вывод:\
<img width="449" height="66" alt="image" src="https://github.com/user-attachments/assets/aac8810e-5033-4fe7-b016-01f90cf9cc5c" />

## Тесты для Задания 3.4
Код:
```
DepartmentExpanded itDepartmentEx = new DepartmentExpanded("IT");
EmployeeExpanded employeeEx1 = new EmployeeExpanded("Петров", itDepartmentEx);
EmployeeExpanded employeeEx2 = new EmployeeExpanded("Козлов", itDepartmentEx);
EmployeeExpanded employeeEx3 = new EmployeeExpanded("Сидоров", itDepartmentEx);
itDepartmentEx.Manager = employeeEx2;

Console.WriteLine(employeeEx1);
Console.WriteLine(employeeEx2);
Console.WriteLine(employeeEx3);

Console.WriteLine($"Список всех сотрудников отдела {employeeEx1.Department.Name}, в котором работает {employeeEx1.Name}:");
for (int i = 0; i < employeeEx1.Department.EmployeeCount; i++)
{
Console.WriteLine($"- {employeeEx1.Department.Employees[i].Name}");
}
```
Вывод:\
<img width="491" height="130" alt="image" src="https://github.com/user-attachments/assets/ef90afe3-9e93-4b85-8df2-0371a979bb07" />

## Тесты для Задания 4.5
<img width="496" height="211" alt="image" src="https://github.com/user-attachments/assets/ac523a15-0fce-4437-a002-37841d0dc3c5" />\
<img width="189" height="118" alt="image" src="https://github.com/user-attachments/assets/1bbfe028-574e-4cf0-8890-47918d680674" />\
<img width="258" height="114" alt="image" src="https://github.com/user-attachments/assets/207d5207-6b5c-4ea2-afd4-8951e460e62c" />\
<img width="163" height="115" alt="image" src="https://github.com/user-attachments/assets/b977535e-e842-479e-829c-3384312f9e5c" />\
<img width="167" height="114" alt="image" src="https://github.com/user-attachments/assets/bb9ab941-4e9f-4c3d-a4d1-9d56c0d245b9" />\
<img width="164" height="113" alt="image" src="https://github.com/user-attachments/assets/ea307780-5f01-437b-ba9c-02c67ea49b0e" />\
<img width="166" height="114" alt="image" src="https://github.com/user-attachments/assets/5cb0ff76-724d-4c2b-84b7-8119168dd413" />

## Тесты для Задания 5.5
Код:
```
Fraction f1 = new Fraction(1, 2);
Fraction f2 = new Fraction(2, 3);
Fraction f3 = new Fraction(3, 4);
Fraction f4 = new Fraction(4, 5);

Console.WriteLine(" Созданные дроби:");
Console.WriteLine($"f1 = {f1}");
Console.WriteLine($"f2 = {f2}");
Console.WriteLine($"f3 = {f3}");
Console.WriteLine($"f4 = {f4}"); 

Console.WriteLine(" Примеры операций:");

Fraction result2 = f1.Sum(f2);
Console.WriteLine($"{f1} + {f2} = {result2}");

Fraction result3 = f3.Minus(f4);
Console.WriteLine($"{f3} - {f4} = {result3}");

Fraction result1 = f1.Multiply(f2);
Console.WriteLine($"{f1} * {f2} = {result1}");

Fraction result4 = f3.Div(f4);
Console.WriteLine($"{f3} / {f4} = {result4}");

Fraction result5 = f1.Sum(2);
Console.WriteLine($"{f1} + 2 = {result5}");

Fraction result7 = f3.Minus(1);
Console.WriteLine($"{f3} - 1 = {result7}");

Fraction result6 = f2.Multiply(3);
Console.WriteLine($"{f2} * 3 = {result6}");

Fraction result8 = f4.Div(2);
Console.WriteLine($"{f4} / 2 = {result8}");

Console.WriteLine(" Вычисление f1.Sum(f2).Div(f3).Minus(5):");
Fraction result9 = f1.Sum(f2).Div(f3).Minus(5);
Console.WriteLine($"({f1}).Sum({f2}).Div({f3}).Minus(5) = {result9}");
``` 
Вывод:\
<img width="323" height="275" alt="image" src="https://github.com/user-attachments/assets/b80982d5-b5bd-40ef-8014-a9307fe0e96b" />
